// THIS FILE IS AUTO-GENERATED BY report-orchestrator
// Do not edit manually - changes will be overwritten

import type { ReportData } from '../types';

// Import table modules
import {
  usersTable,
  postsAnswersTable,
  postsQuestionsTable,
  votesTable,
  badgesTable,
  tagsTable,
} from './tables';

// Import advanced analysis modules
import {
  userAnswerVoteJoin,
  powerVsAverage,
  tagOpportunity,
  timeTo1000,
  acceptedPredictor,
} from './analysis';

export const reportData: ReportData = {
  metadata: {
    title: "Stack Overflow Reputation Growth Factors",
    subtitle: "Analyzing the drivers of user reputation on Stack Overflow",
    generatedAt: "2026-01-31T19:04:41Z",
    dataset: "bigquery-public-data.stackoverflow",
    dateRange: "2008 - September 2022",
  },

  kpis: [
    {
      label: "Total Users Analyzed",
      value: "18.7M",
    },
    {
      label: "Weekly Reputation Pool",
      value: "~2M",
      changeLabel: "reputation points distributed weekly",
    },
    {
      label: "Upvote-to-Downvote Ratio",
      value: "6.5:1",
      trend: "up",
      changeLabel: "favorable voting environment",
    },
    {
      label: "Power User Concentration",
      value: "0.09%",
      changeLabel: "of users generate 24% of answer score",
    },
    {
      label: "Early Mover Advantage",
      value: "94x",
      changeLabel: "higher rep velocity for 2008 vs 2021 users",
    },
    {
      label: "Profile Completeness Impact",
      value: "35x",
      changeLabel: "higher avg reputation with complete profiles",
    },
  ],

  executiveSummary: [
    "**Answering questions is the primary reputation driver**: 70% of all votes are upvotes (+10 rep each), and accepted answers provide an additional +15 rep bonus. Weekly, approximately 2 million reputation points are distributed across all users.",
    "**Power user concentration is extreme**: Just 0.09% of users (2,674 with 1,000+ answers) generate 24% of all answer score. The top 1.58% of answers (scoring 26+) drive 46.79% of total score, following a classic Pareto distribution.",
    "**Early platform adoption provides massive advantage**: Average answer score dropped 96% from 15.76 in 2008 to 0.69 in 2022. Users who joined in 2008 achieved 94x higher reputation velocity than 2021 joiners.",
    "**Topic selection matters significantly**: TypeScript (40.64% positive rate, 0.67 avg score) and C++ (2.31% high-score rate) outperform Python (25.92%, 0.22) and JavaScript (26.73%, 0.25).",
    "**Questions are inefficient for reputation growth**: 66.28% of questions receive zero votes, and only 0.4% achieve high scores (5+). Answering is a far more effective strategy.",
  ],

  researchQuestions: [
    {
      question: "What activities directly increase reputation?",
      findings: [
        "Answering questions is the primary driver - 70% of votes are upvotes worth +10 rep each",
        "Accepted answers provide +15 rep bonus (~11,000 accepted per week)",
        "Questions are ineffective - 66.28% have zero score, only 0.4% achieve 5+ score",
        "Weekly reputation pool of ~2 million points distributed across users",
      ],
      gaps: [
        "Cannot directly correlate individual user activities to reputation changes without table joins",
      ],
      verdict: "supported",
    },
    {
      question: "Who earns the most reputation?",
      findings: [
        "Power user concentration: 0.09% of users (2,674 with 1,000+ answers) generate 24% of answer score",
        "Pareto distribution: 1.58% of answers (scoring 26+) drive 46.79% of total score",
        "Elite users are more engaged (avg 6 days since last access vs 26 days for rep=1 users)",
        "Profile completeness correlates with 35x higher average reputation and 57x higher likelihood of elite status",
      ],
      gaps: [
        "Need cohort analysis to determine if power users started as power users or grew into the role",
      ],
      verdict: "supported",
    },
    {
      question: "Does timing of participation matter?",
      findings: [
        "Day of week matters - Tuesday-Thursday are optimal with 50% more voting activity than weekends",
        "Early mover advantage is massive - average answer score dropped 96% from 2008 to 2022",
        "Platform contraction - answer volume dropped 60% from 2013 peak to 2022",
        "Cohort disparity - 2008 users achieved 94x higher reputation velocity than 2021 joiners",
      ],
      gaps: [
        "Cannot determine if early mover advantage is due to accumulated time or fundamentally different conditions",
      ],
      verdict: "supported",
    },
    {
      question: "Does topic specialization affect reputation growth?",
      findings: [
        "Tag performance varies significantly - TypeScript and C++ outperform Python and JavaScript",
        "Concentration of opportunity - 76 tags (0.12%) with 100K+ questions account for 43% of all questions",
        "Sweet spot for specialization - 730 mid-tier tags (10K-100K questions) offer good potential",
        "Tag-based expertise badges are rare (only 0.33% of badges)",
      ],
      gaps: [
        "Need to join posts with tags to analyze which specific tags yield highest reputation per contribution",
      ],
      verdict: "inconclusive",
    },
    {
      question: "Do badges indicate or predict reputation?",
      findings: [
        "Question visibility drives badges - Popular/Notable/Famous Question badges account for 31% of awards",
        "Answering is under-rewarded in badges (4%) compared to question badges (31%)",
        "Entry-level dominates - 74% of all badges are Bronze",
        "Platform activity steady - badge awards increased 15.6% over 13-week analysis period",
      ],
      gaps: [
        "Cannot correlate specific badge achievements to reputation growth rate changes",
      ],
      verdict: "inconclusive",
    },
  ],

  tables: [
    usersTable,
    postsAnswersTable,
    postsQuestionsTable,
    votesTable,
    badgesTable,
    tagsTable,
  ],

  // Advanced analyses - populated by /advanced-analysis
  advancedAnalyses: [
    userAnswerVoteJoin,
    powerVsAverage,
    tagOpportunity,
    timeTo1000,
    acceptedPredictor,
  ],

  recommendations: [
    {
      title: "User-Answer-Vote Join Analysis",
      description: "Join users with their answers and received votes to quantify actual reputation earned per activity type and identify which behaviors yield highest ROI.",
      impact: "Would enable direct correlation of specific activities to reputation gains",
      priority: "high",
    },
    {
      title: "Cohort Comparison: Power Users vs Average Users",
      description: "Compare activity patterns (response time, answer length, tags chosen) between top 1% reputation earners and median users to identify differentiating behaviors.",
      impact: "Could identify actionable behaviors for reputation growth",
      priority: "high",
    },
    {
      title: "Tag-Reputation Opportunity Scoring",
      description: "Join posts with tags to calculate average reputation earned per answer by tag, identifying highest-opportunity topics for new users.",
      impact: "Would enable strategic topic selection for reputation optimization",
      priority: "medium",
    },
    {
      title: "Time-to-First-1000-Rep Analysis",
      description: "Analyze how quickly users reach the 1,000 reputation milestone by cohort year to quantify the increasing difficulty for new users.",
      impact: "Would quantify the early mover advantage with precision",
      priority: "medium",
    },
    {
      title: "Accepted Answer Predictor Analysis",
      description: "Identify factors (response time, answer length, user reputation) that predict whether an answer gets accepted for the +15 rep bonus.",
      impact: "Could help users optimize their answering strategy",
      priority: "low",
    },
  ],
};
