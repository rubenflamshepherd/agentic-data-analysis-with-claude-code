// THIS FILE IS AUTO-GENERATED BY table-report
// Do not edit manually - changes will be overwritten

import type { TableAnalysis } from '../../types';

// SQL query imports
import query1 from '../../../../research/2026-01-31-190441-reputation-growth-factors/posts_answers/1_query.sql?raw';
import query2 from '../../../../research/2026-01-31-190441-reputation-growth-factors/posts_answers/2_query.sql?raw';
import query3 from '../../../../research/2026-01-31-190441-reputation-growth-factors/posts_answers/3_query.sql?raw';

// CSV result imports
import csv1 from '../../../../research/2026-01-31-190441-reputation-growth-factors/posts_answers/1_result.csv?raw';
import csv2 from '../../../../research/2026-01-31-190441-reputation-growth-factors/posts_answers/2_result.csv?raw';
import csv3 from '../../../../research/2026-01-31-190441-reputation-growth-factors/posts_answers/3_result.csv?raw';

export const postsAnswersTable: TableAnalysis = {
  tableName: "posts_answers",
  description: "Analysis of Stack Overflow answers revealing how answer volume, score distribution, and temporal trends drive user reputation growth.",
  status: "complete",
  rowCount: 34024119,
  dateRange: "2008-2022",
  queries: [
    {
      id: "posts_answers-1",
      title: "Query 1: Answer Score Distribution by User Activity Level",
      sql: query1,
      csvData: csv1,
      csvPath: "posts_answers/1_result.csv",
      summary: "Analyzes how prolific answerers perform in terms of reputation metrics, bucketing users by answer count to reveal whether quantity or quality drives reputation.",
      observations: [
        "Only 2,674 users (0.09%) have 1000+ answers, but they account for 24% of total platform score (25.3M of 105M points).",
        "Average score per answer increases with experience: 2.02 for single-answer users vs 3.83 for power users (1000+ answers).",
        "Positive answer rate rises dramatically with activity: 41.8% for 1-answer users vs 73.8% for 1000+ answer users.",
        "1.4M users (48.7%) posted only one answer, contributing just 4.2% of total answers and 2.7% of total score.",
        "The highest single answer score of 34,269 came from a user in the 100-999 answer bucket, not the most prolific bucket."
      ],
      charts: [
        {
          id: "posts_answers-1-chart-1",
          title: "User Count by Activity Level",
          description: "Shows how many users fall into each answer count bucket, revealing that most users answer rarely while few are prolific.",
          type: "bar",
          xKey: "activity_bucket",
          yKey: "user_count",
          sortOrder: ["1 answer", "2-9 answers", "10-99 answers", "100-999 answers", "1000+ answers"],
          qaStatus: 'needs_repair',
          originalScreenshotPath: 'screenshots/posts-answers/originals/user_count_by_activity_level.png',
          qaIssue: 'X-axis labels sorted alphabetically instead of logically by activity level',
          qaFix: 'Added sortOrder to display activity buckets from lowest to highest',
        },
        {
          id: "posts_answers-1-chart-2",
          title: "Average Score per Answer by Activity Level",
          description: "Compares answer quality across activity levels, demonstrating that more prolific answerers consistently achieve higher scores per answer.",
          type: "bar",
          xKey: "activity_bucket",
          yKey: "avg_score_per_answer",
          sortOrder: ["1 answer", "2-9 answers", "10-99 answers", "100-999 answers", "1000+ answers"],
          qaStatus: 'needs_repair',
          originalScreenshotPath: 'screenshots/posts-answers/originals/average_score_per_answer_by_activity_level.png',
          qaIssue: 'X-axis labels sorted alphabetically instead of logically by activity level',
          qaFix: 'Added sortOrder to display activity buckets from lowest to highest',
        },
        {
          id: "posts_answers-1-chart-3",
          title: "Positive Answer Rate (%) by Activity Level",
          description: "Shows percentage of answers receiving upvotes by activity level, revealing how experience correlates with consistent quality.",
          type: "bar",
          xKey: "activity_bucket",
          yKey: "pct_positive_answers",
          sortOrder: ["1 answer", "2-9 answers", "10-99 answers", "100-999 answers", "1000+ answers"],
          qaStatus: 'needs_repair',
          originalScreenshotPath: 'screenshots/posts-answers/originals/positive_answer_rate__by_activity_level.png',
          qaIssue: 'X-axis labels sorted alphabetically instead of logically by activity level',
          qaFix: 'Added sortOrder to display activity buckets from lowest to highest',
        },
        {
          id: "posts_answers-1-chart-4",
          title: "Total Score Contribution by Activity Level",
          description: "Shows total reputation points generated by each activity bucket, highlighting that mid-tier users (100-999 answers) generate the most total reputation.",
          type: "bar",
          xKey: "activity_bucket",
          yKey: "total_score_in_bucket",
          sortOrder: ["1 answer", "2-9 answers", "10-99 answers", "100-999 answers", "1000+ answers"],
          qaStatus: 'needs_repair',
          originalScreenshotPath: 'screenshots/posts-answers/originals/total_score_contribution_by_activity_level.png',
          qaIssue: 'X-axis labels sorted alphabetically instead of logically by activity level',
          qaFix: 'Added sortOrder to display activity buckets from lowest to highest',
        },
      ],
    },
    {
      id: "posts_answers-2",
      title: "Query 2: Answer Score Distribution and Reputation Impact",
      sql: query2,
      csvData: csv2,
      csvPath: "posts_answers/2_result.csv",
      summary: "Examines how individual answer scores distribute and how reputation accumulates, revealing that rare high-score answers generate most platform reputation.",
      observations: [
        "38.73% of answers receive zero upvotes, and 64.5% of answers (zero + low score) contribute just 8.27% of total platform score.",
        "Answers scoring 26+ represent only 1.58% of all answers but contribute 46.79% of total reputation points.",
        "10,382 'Legendary' answers (500+ score) average 1,063.5 points each, with the highest at 34,269 - these 0.03% of answers generate 10.4% of all reputation.",
        "Moderate answers (2-5 score) are the sweet spot: 24.79% of answers contributing 22.47% of score - the most proportionate bucket.",
        "Negative-scoring answers (-1 or below) represent 2.12% of all answers, with the lowest at -204 votes."
      ],
      charts: [
        {
          id: "posts_answers-2-chart-1",
          title: "Answer Count by Score Bucket",
          description: "Shows distribution of answers across score ranges, revealing that zero and low-score answers dominate in volume.",
          type: "bar",
          xKey: "score_bucket",
          yKey: "answer_count",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          qaStatus: 'passed',
        },
        {
          id: "posts_answers-2-chart-2",
          title: "Reputation Contribution (%) by Score Bucket",
          description: "Shows what percentage of total platform reputation each score bucket generates, highlighting how high-score answers drive most reputation despite being rare.",
          type: "bar",
          xKey: "score_bucket",
          yKey: "pct_of_total_score",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          qaStatus: 'passed',
        },
        {
          id: "posts_answers-2-chart-3",
          title: "Distribution of Answers by Score Bucket",
          description: "Donut chart showing the composition of all answers by score range, emphasizing that most answers receive minimal engagement.",
          type: "donut",
          xKey: "score_bucket",
          yKey: "answer_count",
          qaStatus: 'passed',
        },
        {
          id: "posts_answers-2-chart-4",
          title: "Average Score within Each Bucket",
          description: "Shows the average score achieved within each bucket, illustrating the exponential nature of answer performance at the top end.",
          type: "bar",
          xKey: "score_bucket",
          yKey: "avg_score_in_bucket",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          qaStatus: 'passed',
        },
      ],
    },
    {
      id: "posts_answers-3",
      title: "Query 3: Answer Activity Trends and Yearly Patterns",
      sql: query3,
      csvData: csv3,
      csvPath: "posts_answers/3_result.csv",
      summary: "Analyzes how answer creation and scoring evolved from 2008-2022, revealing dramatic decline in reputation-building opportunities for newer users.",
      observations: [
        "Average score per answer declined 96% from 15.76 (2008) to 0.69 (2022), reflecting both platform maturation and increased competition.",
        "Peak answer volume was 2013 with 3.3M answers; by 2022 this dropped to 1.3M (-60%), indicating platform contraction.",
        "High-score answers (10+ points) dropped from 16.82% of all answers in 2008 to just 0.25% in 2022 - a 67x decrease.",
        "Median answer score fell from 2 (2008-2009) to 1 (2010-2020) to 0 (2021-2022), showing typical answers now receive no upvotes.",
        "Unique answerers peaked at 526,505 in 2017 then declined to 361,068 in 2022 (-31%), with answers per user also falling from 13.3 (2008) to 3.6 (2022)."
      ],
      charts: [
        {
          id: "posts_answers-3-chart-1",
          title: "Total Answers per Year (2008-2022)",
          description: "Shows annual answer volume trajectory, revealing growth through 2013 peak followed by sustained decline.",
          type: "area",
          xKey: "answer_year",
          yKey: "total_answers",
          qaStatus: 'passed',
        },
        {
          id: "posts_answers-3-chart-2",
          title: "Average Score per Answer by Year",
          description: "Tracks declining average answer scores over time, illustrating the shrinking reputation opportunity for each answer posted.",
          type: "line",
          xKey: "answer_year",
          yKey: "avg_score",
          qaStatus: 'passed',
        },
        {
          id: "posts_answers-3-chart-3",
          title: "Percentage of High-Score Answers (10+) by Year",
          description: "Shows the dramatic decline in proportion of answers achieving high scores, from 16.8% in 2008 to 0.25% in 2022.",
          type: "line",
          xKey: "answer_year",
          yKey: "pct_high_score",
          qaStatus: 'passed',
        },
        {
          id: "posts_answers-3-chart-4",
          title: "Unique Answerers per Year",
          description: "Tracks the number of distinct users posting answers each year, showing participation growth then decline after 2017.",
          type: "area",
          xKey: "answer_year",
          yKey: "unique_answerers",
          qaStatus: 'passed',
        },
      ],
    },
  ],
};
