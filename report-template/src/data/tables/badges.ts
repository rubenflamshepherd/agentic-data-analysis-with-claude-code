// THIS FILE IS AUTO-GENERATED BY table-report
// Do not edit manually - changes will be overwritten

import type { TableAnalysis } from '../../types';

// SQL query imports
import query1 from '../../../../research/2026-01-31-190441-reputation-growth-factors/badges/1_query.sql?raw';
import query2 from '../../../../research/2026-01-31-190441-reputation-growth-factors/badges/2_query.sql?raw';
import query3 from '../../../../research/2026-01-31-190441-reputation-growth-factors/badges/3_query.sql?raw';

// CSV result imports
import csv1 from '../../../../research/2026-01-31-190441-reputation-growth-factors/badges/1_result.csv?raw';
import csv2 from '../../../../research/2026-01-31-190441-reputation-growth-factors/badges/2_result.csv?raw';
import csv3 from '../../../../research/2026-01-31-190441-reputation-growth-factors/badges/3_result.csv?raw';

export const badgesTable: TableAnalysis = {
  tableName: "badges",
  description: "The badges table contains 46 million records of badge awards on Stack Overflow from 2008 to September 2022. Analysis reveals question visibility badges dominate (31%), while answer badges account for only 4% of awards. The badge system follows a Bronze-heavy pyramid structure (74% of awards).",
  status: "complete",
  rowCount: 46135386,
  dateRange: "June 27 - September 25, 2022",
  queries: [
    {
      id: "badges-1",
      title: "Query 1: Badge Distribution by Class and Tag-Based Status",
      sql: query1,
      csvData: csv1,
      csvPath: "badges/1_result.csv",
      summary: "Examines badge distribution by class (Gold/Silver/Bronze) and tag-based status to understand which categories drive badge acquisition.",
      observations: [
        "Bronze non-tag-based badges dominate with 73.53% of all badges earned (742,134 badges)",
        "Tag-based badges are extremely rare at only 0.33% of total, indicating specialized expertise recognition is uncommon",
        "Steep pyramid structure: 560,285 users earned Bronze vs 29,471 earning Gold (19:1 ratio)",
        "Silver badges represent 23% of total, creating a clear Bronze -> Silver -> Gold progression",
      ],
      charts: [
        {
          id: "badges-1-chart-1",
          title: "Badge Volume by Class (Gold/Silver/Bronze)",
          description: "Bar chart comparing total badge counts across the three badge classes to visualize the pyramid structure where Bronze dominates.",
          type: "bar",
          xKey: "class_name",
          yKey: "badge_count",
          categoryKey: "tag_based",
          qaStatus: 'passed',
        },
        {
          id: "badges-1-chart-2",
          title: "Badge Distribution by Class (Percentage of Total)",
          description: "Donut chart showing the percentage breakdown of badges by class, highlighting that Bronze badges comprise nearly three-quarters of all awards.",
          type: "donut",
          xKey: "class_name",
          yKey: "pct_of_total",
          qaStatus: 'passed',
        },
        {
          id: "badges-1-chart-3",
          title: "Unique Users Earning Badges by Class",
          description: "Bar chart showing how many distinct users earned badges at each level, revealing the steep drop-off from Bronze to Gold earners.",
          type: "bar",
          xKey: "class_name",
          yKey: "unique_users",
          filter: { field: "tag_based", value: "false" },
          qaStatus: 'passed',
        },
      ],
    },
    {
      id: "badges-2",
      title: "Query 2: Top 30 Most Frequently Earned Badges",
      sql: query2,
      csvData: csv2,
      csvPath: "badges/2_result.csv",
      summary: "Identifies the most commonly awarded badges to reveal which activities and achievements drive user engagement on Stack Overflow.",
      observations: [
        "Question visibility badges (Popular/Notable/Famous Question) account for 31.06% of all badges awarded",
        "New user onboarding badges (Autobiographer, Informed, Editor) represent 26.33% of awards, showing strong new user activity",
        "Answer-related badges (Nice/Good/Great Answer) total only 4.02% - a 7.7x gap compared to question badges",
        "Popular Question alone (19.24%) is awarded more than all answer badges combined, highlighting that question reach outpaces answer quality in badge acquisition",
      ],
      charts: [
        {
          id: "badges-2-chart-1",
          title: "Top 30 Badges by Times Awarded",
          description: "Bar chart showing the most frequently earned badges, revealing that question visibility badges dominate the rankings.",
          type: "bar",
          xKey: "badge_name",
          yKey: "times_awarded",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          qaStatus: 'passed',
        },
        {
          id: "badges-2-chart-2",
          title: "Top 30 Badges by Class (Gold/Silver/Bronze)",
          description: "Bar chart of top badges colored by class to show how badge prestige levels are distributed among frequently awarded badges.",
          type: "bar",
          xKey: "badge_name",
          yKey: "times_awarded",
          categoryKey: "class_name",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          sortOrder: ["Popular Question", "Notable Question", "Autobiographer", "Informed", "Editor", "Yearling", "Student", "Scholar", "Supporter", "Teacher", "Nice Answer", "Famous Question", "Necromancer", "Custodian", "Commentator", "Nice Question", "Revival", "Good Answer", "Peer Pressure", "Enlightened", "Critic", "Announcer", "Curious", "Good Question", "Enthusiast", "Self-Learner", "Citizen Patrol", "Guru", "Great Answer", "Civic Duty"],
          qaStatus: 'needs_repair',
          originalScreenshotPath: 'screenshots/badges/originals/top_30_badges_by_class_goldsilverbronze.png',
          qaIssue: 'Badges were sorted alphabetically instead of by times_awarded descending',
          qaFix: 'Added sortOrder array with badges in descending order by times_awarded',
        },
        {
          id: "badges-2-chart-3",
          title: "Badge Share of Total (Top 30 Badges)",
          description: "Bar chart showing each badge's percentage of total awards, illustrating how concentrated badge activity is in a few top badges.",
          type: "bar",
          xKey: "badge_name",
          yKey: "pct_of_total",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          sortOrder: ["Popular Question", "Notable Question", "Autobiographer", "Informed", "Editor", "Yearling", "Student", "Scholar", "Supporter", "Teacher", "Nice Answer", "Famous Question", "Necromancer", "Custodian", "Commentator", "Nice Question", "Revival", "Good Answer", "Peer Pressure", "Enlightened", "Critic", "Announcer", "Curious", "Good Question", "Enthusiast", "Self-Learner", "Citizen Patrol", "Guru", "Great Answer", "Civic Duty"],
          qaStatus: 'needs_repair',
          originalScreenshotPath: 'screenshots/badges/originals/badge_share_of_total_top_30_badges.png',
          qaIssue: 'Badges were sorted alphabetically instead of by percentage descending',
          qaFix: 'Added sortOrder array with badges in descending order by pct_of_total',
        },
      ],
    },
    {
      id: "badges-3",
      title: "Query 3: Weekly Badge Award Trends",
      sql: query3,
      csvData: csv3,
      csvPath: "badges/3_result.csv",
      summary: "Analyzes weekly patterns in badge awarding to understand temporal trends in user activity, segmented by badge class.",
      observations: [
        "Bronze badges increased 15.6% over the 13-week period (53,000 to 61,262 weekly)",
        "Consistent Gold:Silver:Bronze ratio of approximately 1:7:23 maintained across all weeks",
        "September 11 week showed 13% spike in Silver badges (20,291 vs typical 17,000-18,000)",
        "Unique badge-earning users grew steadily, with Bronze users increasing from 46,423 to 54,380 weekly",
      ],
      charts: [
        {
          id: "badges-3-chart-1",
          title: "Weekly Badge Awards by Class (Gold/Silver/Bronze)",
          description: "Stacked area chart showing weekly badge volume trends segmented by class, revealing the consistent pyramid structure and overall growth.",
          type: "area",
          xKey: "week_start",
          yKey: "badges_awarded",
          categoryKey: "class_name",
          qaStatus: 'passed',
        },
        {
          id: "badges-3-chart-2",
          title: "Weekly Unique Users Earning Badges by Class",
          description: "Line chart showing the number of distinct users earning badges each week by class, tracking user engagement trends.",
          type: "line",
          xKey: "week_start",
          yKey: "unique_users",
          categoryKey: "class_name",
          qaStatus: 'passed',
        },
        {
          id: "badges-3-chart-3",
          title: "Bronze Badge Awards Weekly Trend",
          description: "Area chart focused on Bronze badges only to highlight the 15.6% growth in the dominant badge class over the 13-week period.",
          type: "area",
          xKey: "week_start",
          yKey: "badges_awarded",
          filter: { field: "class_name", value: "Bronze" },
          qaStatus: 'passed',
        },
        {
          id: "badges-3-chart-4",
          title: "Silver Badge Awards Weekly Trend",
          description: "Area chart of Silver badge awards showing the September 11 spike and overall trend in the mid-tier badge class.",
          type: "area",
          xKey: "week_start",
          yKey: "badges_awarded",
          filter: { field: "class_name", value: "Silver" },
          qaStatus: 'passed',
        },
      ],
    },
  ],
};
