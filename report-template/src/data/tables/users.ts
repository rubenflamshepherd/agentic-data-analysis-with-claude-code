// THIS FILE IS AUTO-GENERATED BY table-report
// Do not edit manually - changes will be overwritten

import type { TableAnalysis } from '../../types';

// SQL query imports
import query1 from '../../../../research/2026-01-31-190441-reputation-growth-factors/users/1_query.sql?raw';
import query2 from '../../../../research/2026-01-31-190441-reputation-growth-factors/users/2_query.sql?raw';
import query3 from '../../../../research/2026-01-31-190441-reputation-growth-factors/users/3_query.sql?raw';

// CSV result imports
import csv1 from '../../../../research/2026-01-31-190441-reputation-growth-factors/users/1_result.csv?raw';
import csv2 from '../../../../research/2026-01-31-190441-reputation-growth-factors/users/2_result.csv?raw';
import csv3 from '../../../../research/2026-01-31-190441-reputation-growth-factors/users/3_result.csv?raw';

export const usersTable: TableAnalysis = {
  tableName: "users",
  description: "Analysis of Stack Overflow users table to understand factors driving reputation growth, including voting activity, account age, and profile completeness.",
  status: "complete",
  rowCount: 18712212,
  dateRange: "Users active within 90 days of data snapshot (June 27 - September 25, 2022)",
  queries: [
    {
      id: "users-1",
      title: "Query 1: Reputation Distribution and Voting Activity Correlation",
      sql: query1,
      csvData: csv1,
      csvPath: "users/1_result.csv",
      summary: "Analyzes how user metrics (voting, profile views, account age, engagement) vary across reputation tiers.",
      observations: [
        "61.92% of recently active users have minimum reputation (1), showing extreme concentration at the base level.",
        "Up votes scale dramatically with reputation tier: 0.1 avg for rep=1 users vs 5,173 avg for 100k+ rep users (51,730x increase).",
        "Elite users (100k+ rep) have the oldest accounts (avg 4,406 days / ~12 years) and most consistent engagement (only 6 days since last access).",
        "Higher reputation users maintain more consistent platform engagement - days since last access decreases from 26 days (rep=1) to 6 days (100k+).",
        "Profile views also correlate strongly: 0.9 avg views for rep=1 users vs 26,241 avg views for 100k+ users.",
      ],
      charts: [
        {
          id: "users-1-chart-1",
          title: "User Distribution by Reputation Tier (%)",
          description: "Shows the percentage of recently active users in each reputation tier, highlighting the concentration at lower tiers.",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "pct_of_users",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          qaStatus: 'passed',
        },
        {
          id: "users-1-chart-2",
          title: "Average Up Votes Given by Reputation Tier",
          description: "Demonstrates the strong correlation between reputation level and voting activity - higher reputation users vote significantly more.",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "avg_up_votes",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          qaStatus: 'passed',
        },
        {
          id: "users-1-chart-3",
          title: "Average Account Age (Days) by Reputation Tier",
          description: "Shows that higher reputation is strongly correlated with longer platform tenure, with elite users having ~12 year old accounts on average.",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "avg_account_age_days",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          qaStatus: 'passed',
        },
        {
          id: "users-1-chart-4",
          title: "Days Since Last Access by Reputation Tier (Lower = More Engaged)",
          description: "Shows engagement recency - higher reputation users access the platform more frequently (fewer days since last access).",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "avg_days_since_last_access",
          rotateLabelX: { angle: -45, xAxisHeight: 100 },
          qaStatus: 'passed',
        },
      ],
    },
    {
      id: "users-2",
      title: "Query 2: Reputation Growth Rate by Account Age Cohort",
      sql: query2,
      csvData: csv2,
      csvPath: "users/2_result.csv",
      summary: "Analyzes reputation velocity (rep/day) across user cohorts by creation year to understand whether early adopters had an advantage.",
      observations: [
        "2008 cohort averages 3.28 rep/day vs 0.035 rep/day for 2021 cohort - a 94x difference in growth velocity.",
        "46.63% of 2008 users achieved 'high velocity' (>1 rep/day) vs only 0.41% of 2021 users.",
        "P99 velocity exists in all cohorts but with huge gaps: 38.73 for 2008 vs 0.454 for 2021 - even outlier performance is 85x harder for recent joiners.",
        "Voting activity declines with cohort age: 2008 users give 796 avg up votes vs 2.0 for 2021 users.",
        "2022 cohort shows slightly higher velocity (0.067 rep/day) than 2021 (0.035) possibly due to selection bias toward more engaged new users.",
      ],
      charts: [
        {
          id: "users-2-chart-1",
          title: "Average Reputation Per Day by Account Creation Year",
          description: "Shows the dramatic decline in reputation velocity for later cohorts - early adopters (2008) earned reputation ~94x faster than recent joiners (2021).",
          type: "bar",
          xKey: "creation_year",
          yKey: "avg_rep_per_day",
          qaStatus: 'passed',
        },
        {
          id: "users-2-chart-2",
          title: "Percentage of High-Velocity Users (>1 Rep/Day) by Cohort",
          description: "Shows what percentage of each cohort achieved high reputation velocity - nearly half of 2008 users vs less than 1% of recent cohorts.",
          type: "bar",
          xKey: "creation_year",
          yKey: "pct_high_velocity",
          qaStatus: 'passed',
        },
        {
          id: "users-2-chart-3",
          title: "Reputation Velocity Percentiles (P50, P90, P99) by Cohort",
          description: "Multi-line chart showing median, P90, and P99 reputation velocities - demonstrates that even top performers in recent cohorts lag behind median early adopters.",
          type: "line",
          xKey: "creation_year",
          yKey: ["median_rep_per_day", "p90_rep_per_day", "p99_rep_per_day"],
          qaStatus: 'passed',
        },
        {
          id: "users-2-chart-4",
          title: "Average Up Votes Given by Cohort Year",
          description: "Shows the correlation between cohort age and voting activity - early adopters vote significantly more, which correlates with their higher reputation.",
          type: "bar",
          xKey: "creation_year",
          yKey: "avg_up_votes",
          qaStatus: 'passed',
        },
      ],
    },
    {
      id: "users-3",
      title: "Query 3: Profile Completeness Impact on Reputation",
      sql: query3,
      csvData: csv3,
      csvPath: "users/3_result.csv",
      summary: "Analyzes whether users who complete their profile (about_me, location, website_url) achieve higher reputation outcomes.",
      observations: [
        "Users with complete profiles (all 3 fields) have avg reputation 3,082 vs 89 for no-profile users - a 35x difference.",
        "5.74% of complete-profile users achieve elite status (10k+ rep) vs only 0.10% of no-profile users (57x difference).",
        "67.44% of recently active users have no profile fields completed, representing the low-engagement majority.",
        "Profile completeness strongly correlates with voting activity: 286 avg up_votes for complete profiles vs 10.6 for no profiles.",
        "Complete-profile users have older accounts (2,729 days avg vs 835 for no-profile) suggesting profile investment signals long-term commitment.",
      ],
      charts: [
        {
          id: "users-3-chart-1",
          title: "User Distribution by Profile Completeness (%)",
          description: "Shows that the majority (67%) of active users have not completed any profile fields.",
          type: "bar",
          xKey: "profile_completeness",
          yKey: "pct_of_users",
          qaStatus: 'passed',
        },
        {
          id: "users-3-chart-2",
          title: "Average Reputation by Profile Completeness Level",
          description: "Demonstrates the strong correlation between profile investment and reputation - each additional field correlates with significantly higher reputation.",
          type: "bar",
          xKey: "profile_completeness",
          yKey: "avg_reputation",
          qaStatus: 'passed',
        },
        {
          id: "users-3-chart-3",
          title: "Percentage of Elite Users (10k+ Rep) by Profile Completeness",
          description: "Shows elite user concentration - users with complete profiles are 57x more likely to be elite than those with no profile.",
          type: "bar",
          xKey: "profile_completeness",
          yKey: "pct_elite",
          qaStatus: 'passed',
        },
        {
          id: "users-3-chart-4",
          title: "Average Profile Views by Completeness Level",
          description: "Shows that profile investment correlates with visibility - complete profiles receive 40x more views than empty profiles.",
          type: "bar",
          xKey: "profile_completeness",
          yKey: "avg_profile_views",
          qaStatus: 'passed',
        },
      ],
    },
  ],
};
