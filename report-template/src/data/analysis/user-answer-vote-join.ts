// THIS FILE IS AUTO-GENERATED BY advanced-table-report
// Do not edit manually - changes will be overwritten

import type { TableAnalysis } from '../../types';

// SQL query imports
import query1 from '../../../../research/2026-01-31-190441-reputation-growth-factors/analysis_1_user_answer_vote_join/query_1.sql?raw';
import query2 from '../../../../research/2026-01-31-190441-reputation-growth-factors/analysis_1_user_answer_vote_join/query_2.sql?raw';
import query3 from '../../../../research/2026-01-31-190441-reputation-growth-factors/analysis_1_user_answer_vote_join/query_3.sql?raw';
import query4 from '../../../../research/2026-01-31-190441-reputation-growth-factors/analysis_1_user_answer_vote_join/query_4.sql?raw';

// CSV result imports
import csv1 from '../../../../research/2026-01-31-190441-reputation-growth-factors/analysis_1_user_answer_vote_join/result_1.csv?raw';
import csv2 from '../../../../research/2026-01-31-190441-reputation-growth-factors/analysis_1_user_answer_vote_join/result_2.csv?raw';
import csv3 from '../../../../research/2026-01-31-190441-reputation-growth-factors/analysis_1_user_answer_vote_join/result_3.csv?raw';
import csv4 from '../../../../research/2026-01-31-190441-reputation-growth-factors/analysis_1_user_answer_vote_join/result_4.csv?raw';

export const userAnswerVoteJoin: TableAnalysis = {
  tableName: "analysis_1_user_answer_vote_join",
  description: "Analyzes the relationship between user reputation tiers, answer activity, and vote patterns to understand what drives reputation growth on Stack Overflow.",
  status: "complete",
  rowCount: undefined,
  dateRange: "Historical data through September 2022",
  queries: [
    {
      id: "user-answer-vote-join-q1",
      title: "Query 1: Reputation Earned from Answers by Tier",
      sql: query1,
      csvData: csv1,
      csvPath: "analysis_1_user_answer_vote_join/result_1.csv",
      summary: "Joins users to their answers to calculate estimated reputation earned from answer activity, stratified by reputation tier.",
      observations: [
        "Elite users (100k+ rep) derive 88.3% of their reputation from answers, while new users (1-10 rep) only derive 5.5% - a 16x difference in answer-driven reputation",
        "Answer volume scales exponentially with tier: elite users average 3,274 answers vs 0.05 for new users - a 65,000x difference",
        "Answer quality improves dramatically with tier: 79.3% of elite answers score positive vs only 4.4% for new users; conversely 12.3% of new user answers score negative vs 0.5% for elite",
        "New users are the only tier with negative average answer score (-0.06), indicating more downvotes than upvotes on their answers",
      ],
      charts: [
        {
          id: "user-answer-vote-join-q1-chart-1",
          title: "Percentage of Reputation from Answers by Tier",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "answers_pct_of_total_rep",
        },
        {
          id: "user-answer-vote-join-q1-chart-2",
          title: "Average Answers per User by Tier",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "avg_answers_per_user",
        },
        {
          id: "user-answer-vote-join-q1-chart-3",
          title: "Answer Quality: Positive vs Negative Answers",
          type: "bar",
          xKey: "reputation_tier",
          yKey: ["pct_positive_answers", "pct_negative_answers"],
        },
      ],
    },
    {
      id: "user-answer-vote-join-q2",
      title: "Query 2: Vote Type Breakdown by User Tier",
      sql: query2,
      csvData: csv2,
      csvPath: "analysis_1_user_answer_vote_join/result_2.csv",
      summary: "Analyzes actual votes received (upvotes, downvotes, accepted answers) on user answers in the last year of data, broken down by reputation tier.",
      observations: [
        "Upvote/downvote ratio varies 200x across tiers: elite users receive 69 upvotes per downvote vs new users who receive 0.35 (nearly 3 downvotes per upvote)",
        "For elite, expert, and established users, ~91% of answer reputation comes from upvotes and ~8-9% from accepted answers - remarkably consistent",
        "New users show a unique pattern: 51% of their positive rep comes from accepted answers vs only 49% from upvotes - accepted answers are their lifeline",
        "Elite users average 1,170 upvotes per active user vs 1.64 for beginners and 4.33 for new users who do get votes",
      ],
      charts: [
        {
          id: "user-answer-vote-join-q2-chart-1",
          title: "Upvote to Downvote Ratio by Tier",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "upvote_downvote_ratio",
        },
        {
          id: "user-answer-vote-join-q2-chart-2",
          title: "Rep Source: Upvotes vs Accepted Answers (%)",
          type: "bar",
          xKey: "reputation_tier",
          yKey: ["pct_rep_from_upvotes", "pct_rep_from_accepted"],
        },
        {
          id: "user-answer-vote-join-q2-chart-3",
          title: "Average Upvotes per Active User by Tier",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "avg_upvotes_per_active_user",
        },
      ],
    },
    {
      id: "user-answer-vote-join-q3",
      title: "Query 3: Reputation ROI - Answers vs Questions",
      sql: query3,
      csvData: csv3,
      csvPath: "analysis_1_user_answer_vote_join/result_3.csv",
      summary: "Compares reputation earned per answer vs per question to quantify the ROI of different activity types across reputation tiers.",
      observations: [
        "Elite users earn 96 rep/question vs 56 rep/answer, but post 36x more answers - resulting in 95% of their rep from answers despite higher per-question ROI",
        "For non-elite users, answers consistently outperform questions: established users earn 29.66 rep/answer vs 17.39 rep/question (1.7x better ROI)",
        "New users have negative ROI on both activities (-0.46 rep/answer, -1.77 rep/question), but answers lose less - questions are 3.8x worse",
        "Answer-to-question ratio strongly correlates with success: elite users post 35.86 answers per question, while new users post only 0.39 (mostly ask, rarely answer)",
      ],
      charts: [
        {
          id: "user-answer-vote-join-q3-chart-1",
          title: "Estimated Rep per Activity: Answers vs Questions",
          type: "bar",
          xKey: "reputation_tier",
          yKey: ["est_rep_per_answer", "est_rep_per_question"],
        },
        {
          id: "user-answer-vote-join-q3-chart-2",
          title: "Answer to Question Ratio by Tier",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "answer_to_question_ratio",
        },
        {
          id: "user-answer-vote-join-q3-chart-3",
          title: "Percentage of Total Rep from Answers",
          type: "bar",
          xKey: "reputation_tier",
          yKey: "pct_rep_from_answers",
        },
      ],
    },
    {
      id: "user-answer-vote-join-q4",
      title: "Query 4: New User Success Factors (2019-2022 Cohort)",
      sql: query4,
      csvData: csv4,
      csvPath: "analysis_1_user_answer_vote_join/result_4.csv",
      summary: "Analyzes users who joined 2019-2022 to identify behavioral differences between those who achieved reputation growth and those who stagnated.",
      observations: [
        "97.8% of successful users (1k+ rep) have posted answers vs only 2.7% of inactive users - answering is nearly mandatory for reputation growth",
        "Successful users achieve 9.06 avg score per answer vs -0.15 for inactive users - quality matters as much as quantity",
        "Successful users answer faster: 92 days avg to first answer vs 125 days for inactive and 153-154 days for struggling/growing users",
        "Rep growth rate varies 972x: successful users earn 3.59 rep/day vs 0.0037 for inactive users",
        "56% of successful users' answers score positive vs only 0.85% for inactive users - demonstrating quality compounds with participation",
      ],
      charts: [
        {
          id: "user-answer-vote-join-q4-chart-1",
          title: "Percentage of Users with Answers by Growth Category",
          type: "bar",
          xKey: "growth_category",
          yKey: "pct_with_answers",
        },
        {
          id: "user-answer-vote-join-q4-chart-2",
          title: "Answer Quality: Avg Score per Answer",
          type: "bar",
          xKey: "growth_category",
          yKey: "avg_score_if_answered",
        },
        {
          id: "user-answer-vote-join-q4-chart-3",
          title: "Days to First Answer by Growth Category",
          type: "bar",
          xKey: "growth_category",
          yKey: "avg_days_to_first_answer",
        },
        {
          id: "user-answer-vote-join-q4-chart-4",
          title: "Reputation Growth Rate (Rep/Day)",
          type: "bar",
          xKey: "growth_category",
          yKey: "avg_rep_per_day",
        },
      ],
    },
  ],
};
